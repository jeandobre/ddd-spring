<!DOCTYPE html>
<page th:replace="default :: layout(~{::title}, ~{},~{::script}, ~{::section}, ~{})">
<title>JeanDobre :: Listagem de clientes</title>	

<section>
	<index>

	</index>
</section>

</page>

<script>
	Vue.component("Index", {
		data: () => ({
			list: []
		}),
		
		computed: {
			fields: () => [{
				name: "id",
				sortField: "id",
				title: "#"
			}, {
				name: 'name',
				title: "Nome"
			}, 'cpf', 'fone']
		},
		
		created(){
			axios.get('/rest/clients')
				.then((response) => {
					this.list = response.data;
				});
		},
		
		template: 
		
		`<div>
			<vuetable ref="vuetable"
			    api-url="/rest/clients"
			    :fields="fields"
			    data-path=""
			    pagination-path=""
			  ></vuetable>
		</div>`
	})
</script>